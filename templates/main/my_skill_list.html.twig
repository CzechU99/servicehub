{% extends 'base.html.twig' %}

{% block title %}Skills list{% endblock %}

{% block body %}

    <div class="container p-0">

        {% for message in app.flashes('success') %}
            <div class="text-center mt-5 col-md-4 p-1 text-success bg-success-subtle border border-success-subtle rounded-3">
                {{ message }}
            </div>
        {% endfor %}

        {% for message in app.flashes('error') %}
            <div class="text-center mt-5 col-md-4 p-1 text-danger bg-danger-subtle border border-danger-subtle rounded-3">
                {{ message }}
            </div>
        {% endfor %}

        <div class="row mt-4">
            <div class="">
                <div class="float-start col-lg-1 fs-5 text-center p-1 text-black bg-success-subtle border border-success rounded-3"><a href="{{path('app_add_skill')}}" class="nav-link">Add new</a></div>
                <div class="float-end col-lg-1 fs-5 text-center p-1 text-white bg-secondary border-secondary border border-black rounded-3"><a href="{{path('app_my_skills_list')}}" class="nav-link">My skills</a></div>
                <div class="float-end">&nbsp;&nbsp;&nbsp;&nbsp;</div>
                <div class="float-end col-lg-1 fs-5 text-center p-1 text-gray bg-secondary-subtle border border-secondary rounded-3"><a href="{{path('app_skills_list')}}" class="nav-link">All skills</a></div>
            </div>
        </div>

        <div><hr class="border-2"></div>

        
            <div id="tableMain" class="col-lg-7 mx-auto">
                <table class="table table-striped table-hover">               
                    <thead> 
                        <tr>
                            <th class="col-lg-1">Id</th>
                            <th class="col-lg-2" scope="col">Title</th>
                            <th class="col-lg-3" scope="col">Description</th>
                            <th class="col-lg-1" scope="col">Level</th>
                            <th class="col-lg-1" scope="col">Date</th>
                            <th class="col-lg-1 text-center" scope="col">Edit</th>
                            <th class="col-lg-1 text-center" scope="col">Delete</th>
                        </tr>
                    </thead>
                    <tbody>  
                        {% for skill in skills %}
                            <tr class="align-middle">
                                <td>{{ loop.index }}</td>
                                <td>{{ skill.title }}</td>
                                <td>{{ skill.description }}</td>
                                <td>{{ skill.level }}</td>
                                <td>{{ skill.created | date("d/m/Y H:i") }}</td>
                                <td><a href="{{path('app_edit_skill', {id: skill.id})}}" class="nav-link"><div class="mx-auto col-lg-9 text-white bg-primary rounded-3 text-center fw-bold">EDIT</div></a></td>
                                <td><a href="{{path('app_delete_skill', {id: skill.id})}}" class="nav-link"><div class="mx-auto col-lg-6 text-white bg-danger rounded-3 text-center fw-bold">X</div></a></td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>


    </div>

{% endblock %}
